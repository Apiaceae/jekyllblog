
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JIRA + MySQL + Confluence 安装</title>
    
    <meta name="author" content="Lisong Wang">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/css/1.4.0/bootstrap.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
  </head>

  <body>

    <div class="topbar">
      <div class="fill">
        <div class="container">
          <a class="brand" href="/">虎克的博客</a>
          <ul class="nav">
            
            
            


  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        
<div class="page-header">
  <h1>JIRA + MySQL + Confluence 安装 <small>Supporting tagline</small></h1>
</div>

<div class="row">
  <div class="span10">
    <h2 class="post-title">JIRA + MySQL + Confluence 安装</h2>


<p><table border="0" cellspacing="0" width="100%" class="fixedTable blogpost">
    <tbody>
        <tr>
            <td class="ellipse"><span class="bvTitle"><strong><font size="3">JIRA + MySQL + Confluence 安装</font></strong></span></td>
        </tr>
        <tr>
            <td class="bvh8">&nbsp;</td>
        </tr>
        <tr>
            <td id="msgcns!804037BC681CF72D!112">
            <p>
            JIRA + MySQL + Confluence 安装
            </p>
            <p>
            &nbsp;
            </p>
            <p>
            &nbsp;&nbsp;&nbsp;&nbsp; 官方有详细文档：<a href="http://www.atlassian.com/software/jira/docs/latest/"><font color="#004377">http://www.atlassian.com/software/jira/docs/latest/</font></a>
            </p>
            <p>
            &nbsp;&nbsp;&nbsp;&nbsp;<strong><font size="4"> 1.1 </font></strong><a href="http://www.atlassian.com/software/jira/docs/latest/requirements.html"><strong><font size="4" color="#004377">安装前确认软硬件配置需求</font></strong></a>
            </p>
            <p>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (1) 软件需求：
            </p>
            <p>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;需JAVA支持，已内嵌 HSQL 数据库引擎，如用于正式应用，建议使用 <a href="http://www.mysql.com/"><u><font color="#800080">MySQL</font></u></a> or <a href="http://www.postgresql.org/"><u><font color="#0000ff">PostgreSQL</font></u></a>。
            </p>
            <p>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2) 硬件建议:&nbsp;
            </p>
            <ul>
                <li>&nbsp;评估安装&nbsp;需要 1.5GHz 主频＋ 256MB 内存即可; </li>
                <li>&nbsp;10－20个项目/100－200用户/1000－5000问题数，需要2.8GHz主频 + 256-512MB内存 </li>
                <li>&nbsp;更多更大项目/10万问题数,&nbsp; 1G内存足够了 </li>
            </ul>
            <p>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;作为参考 <a href="http://jira.atlassian.com/"><u><font color="#0000ff">jira.atlassian.com</font></u></a> 有14,000问题和10,000用户，最高负载没分钟30个页面需求，目前使用双2.8GHZ Xeon CPU + 450MB内存
            </p>
            <p>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            </p>
            <p>
            <font size="4">&nbsp;&nbsp;&nbsp;&nbsp; 1.2 </font><a href="http://www.atlassian.com/software/jira/docs/latest/java.html"><font size="4" color="#004377">安装JAVA JDK，设置JAVA_HOME，及添加JDK可执行目录bin到path路径</font></a>
            </p>
            <p>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JIRA 运行需要JDK 1.3 或更高版本，可从 <a href="http://java.sun.com/j2se/1.5.0/jdk/download.jsp"><u><font color="#0000ff">Sun&#39;s website</font></u></a>&nbsp;下载windows&nbsp;offline 版本安装:
            </p>
            <p>
            <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Linux </strong>用户要 要安装<strong>xorg-x11-deprecated-libs包</strong> (Fedora) 获类似支持包以避免如下错误:
            </p>
            <pre>
                                        java.lang.UnsatisfiedLinkError: /opt/j2sdk1.4.2_11/jre/lib/i386/libawt.so: libXp.so.6: cannot open<br />
            <br />
                        <br />
            <br />
                                        shared object file: No such file or directory<br />
            <br />
                        <br />
            <br />
                                                <br />
            <br />
                                    <br /></p>

<pre><code>        &lt;table border="0" cellspacing="0" cellpadding="0" width="100%"&gt;
            &lt;tbody&gt;
                &lt;tr&gt;
                    &lt;td width="9" height="10"&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/td&gt;
                    &lt;td&gt;
                    &lt;h3&gt;&amp;nbsp;设置JAVA_HOME系统环境变量&lt;/h3&gt;
                    &lt;/td&gt;
                    &lt;td&gt;&amp;nbsp;&lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td&gt;&amp;nbsp;&lt;/td&gt;
                    &lt;td bgcolor="#a5b6c6"&gt;&amp;nbsp;&lt;/td&gt;
                    &lt;td&gt;&amp;nbsp;&lt;/td&gt;
                &lt;/tr&gt;
            &lt;/tbody&gt;
        &lt;/table&gt;
        &lt;br /&gt;
                    &lt;br /&gt;
        &lt;br /&gt;
                                &lt;br /&gt;
        &lt;br /&gt;
                    &lt;br /&gt;
        &lt;br /&gt;
                                            &lt;br /&gt;
        &lt;br /&gt;
                                &lt;br /&gt;

        &lt;/pre&gt;
        &lt;p&gt;
        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp;&amp;nbsp; 在控制面板，右键点击&amp;ldquo;我的电脑&amp;rdquo;图标，选择属性
        &lt;/p&gt;
        &lt;ol&gt;
            &lt;li&gt;点击&amp;ldquo;&lt;strong&gt;高级&lt;/strong&gt;&amp;rdquo; 页 &lt;/li&gt;
            &lt;li&gt;点击&amp;ldquo;&lt;strong&gt;环境变量&lt;/strong&gt;&amp;rdquo;按钮 &lt;/li&gt;
            &lt;li&gt;点击 &amp;ldquo;&lt;strong&gt;新建&lt;/strong&gt;&amp;rdquo; 系统环境变量 &lt;/li&gt;
            &lt;li&gt;设置 &lt;strong&gt;JAVA_HOME&lt;/strong&gt; 指向 Java安装目录,不是 Bin目录. &lt;/li&gt;
            &lt;li&gt;cmd 或 Dos 下执行&amp;nbsp;％Java_Home％\bin\javac, 确认变量设置无误 &lt;/li&gt;
        &lt;/ol&gt;
        &lt;p&gt;
        &amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;font size="4"&gt;1.3 &lt;/font&gt;&lt;a href="http://http//www.atlassian.com/software/jira/docs/latest/install.html"&gt;&lt;font size="4" color="#004377"&gt;安装JIRA，直接解压即可&lt;/font&gt;&lt;/a&gt;
        &lt;/p&gt;
        &lt;p&gt;
        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;a href="http://www.atlassian.com/software/jira/downloads/binary/atlassian-jira-enterprise-3.6.2-standalone.zip"&gt;&lt;font color="#004377"&gt;http://www.atlassian.com/software/jira/downloads/binary/atlassian-jira-enterprise-3.6.2-standalone.zip&lt;/font&gt;&lt;/a&gt;
        &lt;/p&gt;
        &lt;p&gt;
        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;font size="4"&gt;1.4 &lt;/font&gt;&lt;a href="http://www.atlassian.com/software/jira/docs/latest/standalone-dbconfig.html"&gt;&lt;font color="#004377"&gt;&lt;font size="4"&gt;安装MySQL数据库&lt;/font&gt;，创建JIRADB，同时下载 JDBC for MySQL 驱动jar文件到Jira/common/lib/目录&lt;/font&gt;&lt;/a&gt;, 注意数据库设置使用UTF-8支持中文&amp;nbsp; http://&lt;a href="http://www.mysql.com/"&gt;&lt;font color="#004377"&gt;www.mysql.com&lt;/font&gt;&lt;/a&gt;
        &lt;/p&gt;
        &lt;p&gt;
        &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; 按照要求编辑conf/server.xml和atlassian-jira/WEB-INF/classes/entityengine.xml，注意数据库名和前面创建要一致:
        &lt;/p&gt;
        &lt;ol&gt;
            &lt;li&gt;安装MySQL:http://dev.mysql.com/downloads/ &lt;/li&gt;
            &lt;li&gt;创建JIRA连接用户(如 &lt;strong&gt;jirauser&lt;/strong&gt;). &lt;/li&gt;
            &lt;li&gt;创建JIRA数据库 (如 &lt;strong&gt;jiradb&lt;/strong&gt;). &lt;/li&gt;
            &lt;li&gt;确认数据库JIRA连接用户有权限连接数据库、创建和使用数据表 &lt;/li&gt;
            &lt;li&gt;
            &lt;p&gt;
            把MySQL JDBC driver jar 文件拷到 &lt;span&gt;common/lib/&lt;/span&gt; 目录. &lt;a href="http://ekylin.spaces.msn.com/mmm2006-06-19_17.24/#specific_databases"&gt;&lt;u&gt;&lt;font color="#0000ff"&gt;[download driver]&lt;/font&gt;&lt;/u&gt;&lt;/a&gt; 
            &lt;/p&gt;
            &lt;/li&gt;
            &lt;li&gt;
            &lt;p&gt;
            编辑 &lt;strong&gt;conf/server.xml&lt;/strong&gt; 文件,&amp;nbsp; 设置用户名、密码、驱动类名、数据源 url参数：
            &lt;/p&gt;
            &lt;pre&gt;
                                            &amp;lt;Server port=&amp;quot;8005&amp;quot; shutdown=&amp;quot;SHUTDOWN&amp;quot;&amp;gt;
            &amp;lt;Service name=&amp;quot;Catalina&amp;quot;&amp;gt;
            &amp;lt;Connector port=&amp;quot;8080&amp;quot;
            maxHttpHeaderSize=&amp;quot;8192&amp;quot; maxThreads=&amp;quot;150&amp;quot; minSpareThreads=&amp;quot;25&amp;quot; maxSpareThreads=&amp;quot;75&amp;quot;
            enableLookups=&amp;quot;false&amp;quot; redirectPort=&amp;quot;8443&amp;quot; acceptCount=&amp;quot;100&amp;quot; connectionTimeout=&amp;quot;20000&amp;quot; disableUploadTimeout=&amp;quot;true&amp;quot; /&amp;gt;
            &amp;lt;Engine name=&amp;quot;Catalina&amp;quot; defaultHost=&amp;quot;localhost&amp;quot;&amp;gt;
            &amp;lt;Host name=&amp;quot;localhost&amp;quot; appBase=&amp;quot;webapps&amp;quot; unpackWARs=&amp;quot;true&amp;quot; autoDeploy=&amp;quot;true&amp;quot;&amp;gt;
            &amp;lt;Context path=&amp;quot;&amp;quot; docBase=&amp;quot;${catalina.home}/atlassian-jira&amp;quot; reloadable=&amp;quot;true&amp;quot;&amp;gt;
            &amp;lt;Resource name=&amp;quot;jdbc/JiraDS&amp;quot; auth=&amp;quot;Container&amp;quot; type=&amp;quot;javax.sql.DataSource&amp;quot;
            username=&amp;quot;&lt;strong&gt;[enter db username]&lt;/strong&gt;&amp;quot;
            password=&amp;quot;&lt;strong&gt;[enter db password]&lt;/strong&gt;&amp;quot;
            driverClassName=&amp;quot;&lt;strong&gt;com.mysql.jdbc.Driver&lt;/strong&gt;&amp;quot;
            url=&amp;quot;&lt;strong&gt;jdbc:mysql://localhost/jiradb?autoReconnect=true&amp;amp;amp;useUnicode=true&amp;amp;amp;characterEncoding=UTF8&lt;/strong&gt;&amp;quot;
            &lt;strong&gt;[ delete the minEvictableIdleTimeMillis and timeBetweenEvictionRunsMillis params here ]&lt;/strong&gt;
            /&amp;gt;
            &amp;lt;Resource name=&amp;quot;UserTransaction&amp;quot; auth=&amp;quot;Container&amp;quot; type=&amp;quot;javax.transaction.UserTransaction&amp;quot;
            factory=&amp;quot;org.objectweb.jotm.UserTransactionFactory&amp;quot; jotm.timeout=&amp;quot;60&amp;quot;/&amp;gt;
            &amp;lt;Manager className=&amp;quot;org.apache.catalina.session.PersistentManager&amp;quot; saveOnRestart=&amp;quot;false&amp;quot;/&amp;gt;
            &amp;lt;/Context&amp;gt;
            &amp;lt;/Host&amp;gt;
            &amp;lt;/Engine&amp;gt;
            &amp;lt;/Service&amp;gt;
            &amp;lt;/Server&amp;gt;
            &lt;/pre&gt;
            &lt;/li&gt;
            &lt;li&gt;在n &lt;span&gt;conf/server.xml文件里删除&lt;/span&gt; &lt;strong&gt;minEvictableIdleTimeMillis&lt;/strong&gt; 和 &lt;strong&gt;ti
</code></pre>

    <hr>
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/linux/2009/09/24/Linux%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%92%8C%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4" title="Linux常见问题和操作命令">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/linux/2009/09/24/%E6%9C%80%E5%A5%BD%E7%9A%8450%E4%B8%AA%E7%94%A8Ruby+on+Rails%E5%BC%80%E5%8F%91%E7%9A%84%E7%BD%91%E7%AB%99" title="最好的50个用Ruby on Rails开发的网站">Next &rarr;</a></li>
      
      </ul>
    </div>
    <hr>
    


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'apiaceaegit'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




  </div>
  
  <div class="span4">
    <h4>Published</h4>
    <div class="date"><span>24 September 2009</span></div>

    
  </div>
</div>


      </div>

      <footer>
        <p>&copy; Lisong Wang 2012 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>
        </p>
      </footer>

    </div> <!-- /container -->

    
  </body>
</html>

